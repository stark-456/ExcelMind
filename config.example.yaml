# 模型配置 - 多渠道支持
model:
  # ========================================
  # 快速切换：修改此处即可切换不同的 LLM 服务
  # 可选值: self_hosted, x666, siliconflow
  # ========================================
  active: "self_hosted"
  
  # 多个服务提供者配置
  providers:
    # 自建服务 (例如: 本地部署的 vLLM/Ollama/TGI 等)
    self_hosted:
      description: "自建服务 - Qwen3-80B"
      provider: "openai"
      model_name: "qwen3-80b"
      api_key: "${SELF_HOSTED_API_KEY}"
      base_url: "${SELF_HOSTED_BASE_URL}"
      temperature: 0.1
      max_tokens: 4096
    
    # x666 服务
    x666:
      description: "x666 服务 - GLM4"
      provider: "openai"
      model_name: "glm4"
      api_key: "${X666_API_KEY}"
      base_url: "${X666_BASE_URL}"
      temperature: 0.1
      max_tokens: 4096
    
    # 硅基流动 SiliconFlow
    siliconflow:
      description: "硅基流动 - GLM-4.7 Pro"
      provider: "openai"
      model_name: "Pro/zai-org/GLM-4.7"
      api_key: "${SILICONFLOW_API_KEY}"
      base_url: "https://api.siliconflow.cn/v1"
      temperature: 0.1
      max_tokens: 4096

# Excel 配置
excel:
  # 预览时显示的最大行数
  max_preview_rows: 20
  # 工具返回结果的默认行数限制
  default_result_limit: 20
  # 最大结果行数限制
  max_result_limit: 1000

# 服务配置
server:
  host: "0.0.0.0"
  port: 8000

# Embedding 模型配置（用于知识库向量化）- 多渠道支持
embedding:
  # ========================================
  # 快速切换：修改此处即可切换不同的 Embedding 服务
  # 可选值: self_hosted, siliconflow
  # ⚠️ 注意：不同维度的向量不兼容，切换后需重建知识库索引！
  # ========================================
  active: "self_hosted"
  
  # 多个 Embedding 服务配置
  providers:
    # 自建服务 (1536维)
    self_hosted:
      description: "自建服务 - Qwen3-Embedding-0.6B (1536维)"
      model: "qwen3-embedding-0.6b"
      dims: 1536
      api_url: "${SELF_HOSTED_EMBEDDING_URL}"
      api_key: "empty"
    
    # 硅基流动 (1024维)
    siliconflow:
      description: "硅基流动 - Qwen3-Embedding-0.6B (1024维)"
      model: "Qwen/Qwen3-Embedding-0.6B"
      dims: 1024
      api_url: "https://api.siliconflow.cn/v1"
      api_key: "${SILICONFLOW_API_KEY}"

# 知识库配置
knowledge_base:
  # 是否启用知识库
  enabled: true
  # 知识条目目录
  knowledge_dir: "knowledge"
  # 向量库持久化路径
  vector_db_path: ".vector_db"
  # 检索返回条数
  top_k: 3
  # 相似度阈值 (0-1)
  similarity_threshold: 0.7
  # 是否自动提取元数据
  auto_extract_metadata: true
